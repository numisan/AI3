1. 使用したレコメンデーションアルゴリズムと採用理由

協調フィルタリング（Collaborative Filtering）に基づくレコメンデーションアルゴリズムを採用した。
具体的には、ユーザーの映画評価データを用いて映画同士の類似度を計算するアイテムベース協調フィルタリングを使用している。

各映画を「ユーザー × 評価値」のベクトルとして表現し、
映画間の類似度は cosine類似度 によって算出した。
cosine類似度は、評価の絶対値よりも評価傾向の類似性を重視できるため、
ユーザーごとの評価基準の違いを吸収できる点が利点である。

類似映画の探索には k近傍法（k-Nearest Neighbors） を用い、
選択された映画に対して類似度の高い映画を上位から抽出する方式とした。

選択時と未選択時の処理

映画が3つすべて選択されている場合
→ 協調フィルタリングによるレコメンド処理を実行し、
　　おすすめ映画を画面に表示する。

映画が3つ未満、または未選択が含まれる場合
→ レコメンド処理は行わず、
　　「映画を3つ選択してください」というエラーメッセージを表示する。

<br></br>

2. ボタン押下からおすすめ映画表示までの処理の流れ

本システムでは、ユーザーが3つの映画を選択し、
「オススメ映画を表示」ボタンを押下すると、以下の処理が実行される。

・処理の流れ

映画選択画面（index.html）
ユーザーがドロップダウンリストから3つの映画を選択する。

フォーム送信
ボタン押下により、選択された映画IDがPOST通信でFlaskに送信される。

入力チェック
Flask側で、映画が3つすべて選択されているかを確認する。
未選択が含まれている場合はエラー画面を表示する。

3つの映画情報の扱い（重要ポイント）
選択された3つの映画に対応する評価ベクトルを取得し、
それらを 平均化したベクトル を作成する。

この平均ベクトルを「仮想的なユーザーの嗜好」とみなし、
協調フィルタリングを適用することで、
3作品すべての特徴を反映したレコメンドを実現している。

類似映画の算出
平均ベクトルに対してk近傍法を適用し、
類似度の高い映画を抽出する。
その際、選択済みの映画は除外する。

結果表示（result.html）
抽出されたおすすめ映画を「おすすめ映画トップ5」として画面に表示する。



3. Webサイトの起動手順と必要なインストール
必要な環境

・Python 3.9 以上
・以下のPythonライブラリ
・Flask
・pandas
・scikit-learn
・scipy

インストール手順

以下のコマンドをターミナル（PowerShell等）で実行する。

{pip install flask pandas scikit-learn scipy}

起動手順

プロジェクトフォルダに移動する。
{cd KADA}

Flaskアプリケーションを起動する。

{python kada.py}


※ 環境によっては以下のコマンドを使用する。

{py kada.py}


ブラウザで以下のURLにアクセスする。

http://127.0.0.1:5000/


映画を3つ選択し、「オススメ映画を表示」ボタンを押すことで、
おすすめ映画が表示される。
